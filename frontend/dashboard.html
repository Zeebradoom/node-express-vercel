<html>

<head>
    
    <title>Spotify Dashboard</title>
    <link rel="stylesheet" href="dashboard.css">
    <!-- <script src="dashboard.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
    
    <link rel="shortcut icon" href="#">
    
</head>

<body>
    <div class="card">
        <div class="center" id="banner">Select Time Frame From Below</div>
        <div class="grid">
            <div class="center">title</div>
        </div>

        <div class="button-row">
            <button class="button-row" id="this-month-button" onclick="shorte()">This month</button>
            <button class="button-row" id="last-6-months-button" onclick="mediume()">Last 6 months</button>
            <button class="button-row" id="all-time-button" onclick="longe()">All Time</button>
        </div>
    </div>


    <div class="info">
        <h3>Top 50 Songs</h3>
        <table id="top-songs">
            <thead>
                <tr>
                    <th>Song Name</th>
                    <th>Album</th>
                    <th>Artist</th>
                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>

    </div>

</body>
<script>
    // const request = require('request');

document.addEventListener("DOMContentLoaded", function(event) {
  // Check if the document is ready
    const grid = document.querySelector('.grid');
    grid.style.display = "none";
    const info = document.querySelector('.info');
    info.style.display = "none";
});


async function shorte () {
        // console.log("shorte");
        // Get the current month and year
        const date = new Date();
        const month = date.toLocaleString("en-US", { month: "long" });
        const year = date.getFullYear();

        const grid = document.querySelector('.grid');
        grid.style.display = "grid";

        const info = document.querySelector('.info');
        info.style.display = "grid";

        document.getElementById("banner").style.display = "none";

        const h3Element = document.querySelector("h3");
        h3Element.innerHTML = `Your top 50 songs of ${month} ${year}`;


        // Update the inner HTML of the element with the center class
        grid.innerHTML = `<div class="center">Your top songs of ${month} ${year}</div>`;

        let topSongsTable = document.querySelector("tbody");
        topSongsTable.innerHTML = "";

        //add fetched changes from api backend thing fuck
        try {
            // const response = await fetch('https://node-express-vercel-production.up.railway.app/tracksShort');
            // const body = await response.json();
            console.log("FAT FUCK");

            // use the body data as needed
            // let tracksShort = body.tracksShort;
            // // Store the data in Local Storage
            // let j = 0;
            // for (let i = 0; i < 49; i++) {
            //     //info table
            //     let song = tracksShort[i];
            //     let row = document.createElement("tr");
            //     row.innerHTML = `<td>${song.name}</td><td>${song.album.name}</td><td>${song.artists[0].name}</td>`;
            //     topSongsTable.appendChild(row);

            //     if (i == 23 || i == 24 || i == 25) {
            //         j++;
            //         grid.innerHTML += `<div class="center"></div>`;
            //     } else {
            //         let imageUrl = tracksShort[i - j].album.images[1].url;
            //         let imgElement = `<img src="${imageUrl}" alt="track image">`;
            //         grid.innerHTML += imgElement;
            //     }
            // }
        } catch (error) {
        }};



//  async shorte = () => {
//     // console.log("shorte");
//     // Get the current month and year
//     const date = new Date();
//     const month = date.toLocaleString("en-US", { month: "long" });
//     const year = date.getFullYear();

//     const grid = document.querySelector('.grid');
// 	grid.style.display = "grid";

//     const info = document.querySelector('.info');
//     info.style.display = "grid";
    
//     document.getElementById("banner").style.display = "none";

//     const h3Element = document.querySelector("h3");
//     h3Element.innerHTML = `Your top 50 songs of ${month} ${year}`;


//     // Update the inner HTML of the element with the center class
//     grid.innerHTML = `<div class="center">Your top songs of ${month} ${year}</div>`;

//     let topSongsTable = document.querySelector("tbody");
//     topSongsTable.innerHTML = "";
    
//     //add fetched changes from api backend thing fuck


//     fetch('https://node-express-vercel-production.up.railway.app/tracksShort')
//         .then((response) => response.json())
//         .then((body) => {
//             console.log(body);
            
//             // use the body data as needed
//         })
//         .catch((error) => {
//             console.error(error);
//         });
//     }

    // fetch('https://node-express-vercel-production.up.railway.app/tracksShort')
    //     .then((body) => {
    //         console.log(body);
    //         let tracksShort = body.tracksShort;
    //         // Store the data in Local Storage
    //         let j = 0;
    //         for (let i = 0; i < 49; i++) {
    //             //info table
    //             let song = tracksShort[i];
    //             let row = document.createElement("tr");
    //             row.innerHTML = `<td>${song.name}</td><td>${song.album.name}</td><td>${song.artists[0].name}</td>`;
    //             topSongsTable.appendChild(row);

    //             if (i == 23 || i == 24 || i == 25) {
    //                 j++;
    //                 grid.innerHTML += `<div class="center"></div>`;
    //             } else {
    //                 let imageUrl = tracksShort[i - j].album.images[1].url;
    //                 let imgElement = `<img src="${imageUrl}" alt="track image">`;
    //                 grid.innerHTML += imgElement;
    //             }
    //         }
    //     })
    //     .catch((error) => {
    //         console.error(error);
    //     });




// const mediume = () => {
//     const grid = document.querySelector('.grid');
//     grid.style.display = "grid";

//     const info = document.querySelector('.info');
//     info.style.display = "grid";

//     document.getElementById("banner").style.display = "none";

//     const h3Element = document.querySelector("h3");
//     h3Element.innerHTML = `Your top songs of the last 6 months`;
      
//         // Add the center element back to the grid
//     grid.innerHTML = `<div class="center">Your top 50 songs of the last 6 months</div>`;

//     // Load top songs for this month
//     let topSongsTable = document.querySelector("tbody");
//     topSongsTable.innerHTML = "";

//     fetch('https://node-express-vercel-sigma.vercel.app/tracksMedium')
//         .then(response => response.json())
//         .then(data => {
//             console.log(data);
//             let tracksMedium = data.tracksMedium;
//             // Store the data in Local Storage
//             let j = 0;
//             for (let i = 0; i < 49; i++) {

//                 let song = tracksMedium[i];
//                 let row = document.createElement("tr");
//                 row.innerHTML = `<td>${song.name}</td><td>${song.album.name}</td><td>${song.artists[0].name}</td>`;
//                 topSongsTable.appendChild(row);

//                 if (i == 23 || i == 24 || i == 25) {
//                     j++;
//                     grid.innerHTML += `<div class="center"></div>`;
//                 } else {
//                     let imageUrl = tracksMedium[i-j].album.images[1].url;
//                     let imgElement = `<img src="${imageUrl}" alt="track image">`;
//                     grid.innerHTML += imgElement;
//                 }
//             }
//         });

//     };

// const longe = () => {
//     const grid = document.querySelector('.grid');
//     grid.style.display = "grid";

//     const info = document.querySelector('.info');
//     info.style.display = "grid";

//     document.getElementById("banner").style.display = "none";

//     const h3Element = document.querySelector("h3");
//     h3Element.innerHTML = `Your top 50 songs of all time`;

//     // Load top songs for this month
//     grid.innerHTML = `<div class="center">Your top songs of all time</div>`;

//     // Load top songs for this month
//     let topSongsTable = document.querySelector("tbody");
//     topSongsTable.innerHTML = "";

//     fetch('https://node-express-vercel-sigma.vercel.app/tracksLong')
//         .then(response => response.json())
//         .then(data => {
//             console.log(data);
//             let tracksLong = data.tracksLong;
//             // Store the data in Local Storage
//             let j = 0;
//             for (let i = 0; i < 49; i++) {

//                 let song = tracksLong[i];
//                 let row = document.createElement("tr");
//                 row.innerHTML = `<td>${song.name}</td><td>${song.album.name}</td><td>${song.artists[0].name}</td>`;
//                 topSongsTable.appendChild(row);

//                 if (i == 23 || i == 24 || i == 25) {
//                     j++;
//                     grid.innerHTML += `<div class="center"></div>`;
//                 } else {
//                     let imageUrl = tracksLong[i-j].album.images[1].url;
//                     let imgElement = `<img src="${imageUrl}" alt="track image">`;
//                     grid.innerHTML += imgElement;
//                 }
//             }
//         });
// };

</script>

</html>